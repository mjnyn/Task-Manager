<% content_for :title, "Tasks" %>

<div class="task-container">
  <div class="task-card">
    <div class="task-heading"><h3>Task Manager</h3></div>
    <div class="add-task">
      <%= form_with(model: Task.new, url: tasks_path, local: true) do |f| %>
        <%= f.text_field :title, placeholder: "Add a new task" %>
        <%= f.submit "Add" %>
      <% end %>
    </div>

    <div class="task-columns">
      <div class="task-column">
        <h3>Todo</h3>
        <% @todo_tasks.each do |task| %>
          <div class="task-item">
            <%= button_to complete_task_path(task), method: :patch, class: "complete-checkbox" do %>
            <% end %>
            <span><%= task.title %></span>
            <%= button_to task_path(task), method: :delete, class: "delete-task" do %>
              ✘
            <% end %>
          </div>
        <% end %>
      </div>

      <div class="task-column">
        <h3>Completed</h3>
        <% @completed_tasks.each do |task| %>
          <div class="task-item">
            <%= button_to incomplete_task_path(task), method: :patch, class: "incomplete-checkbox" do %>
            <%# sourced from https: //www.namecheap.com/visual/font-generator/checkmarks  %>
              ✓
            <% end %>
            <span class="task-complete-text"><%= task.title %></span>
            <%= button_to task_path(task), method: :delete, class: "delete-task" do %>
              ✘
            <% end %>
          </div>
        <% end %>
      </div>

    </div>
  </div>
</div>
